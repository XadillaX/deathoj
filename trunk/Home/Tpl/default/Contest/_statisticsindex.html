<php>
function get_contest_status($starttime, $endtime)
{
    $current_time = time();
    $results = array(
        "<span style='color: gray;'>未开始</span>",
        "<span style='color: red;'>进行中</span>",
        "<span style='color: green;'>已结束</span>"
    );

    if($current_time < $starttime) return $results[0];
    if($current_time > $starttime && $current_time < $endtime) return $results[1];
    return $results[2];
}
</php>
<include file="Public:header" />
<link rel="stylesheet" type="text/css" href="__ROOT__/default/css/problem.css" media="screen" />

<div id="prob-list-wrapper">
    <table>
        <thead>
            <tr>
                <th style="text-align: center;" width="100">题目编号</th>
                <th style="text-align: center;">AC</th>
                <th style="text-align: center;">WA</th>
                <th style="text-align: center;">RE</th>
                <th style="text-align: center;">TLE</th>
                <th style="text-align: center;">MLE</th>
                <th style="text-align: center;">CE</th>
                <th style="text-align: center;">PE</th>
                <th style="text-align: center;" width="100">详细统计</th>
            </tr>
        </thead>

        <tbody>
            <foreach name="analyze" item="list">
            <tr>
                <td style="text-align: center;"><a href="{:U('Contest/view?id=' . $_GET['id'] . '&problem=' . $list['index'])}" target="_blank">{$list["index"]}</a></td>
                <td style="text-align: center;">{$list["ACCEPTED"]}</td>
                <td style="text-align: center;">{$list["WRONG_ANSWER"]}</td>
                <td style="text-align: center;">{$list["RUNTIME_ERROR"]}</td>
                <td style="text-align: center;">{$list["TIME_LIMIT_EXCEEDED"]}</td>
                <td style="text-align: center;">{$list["MEMORY_LIMIT_EXCEEDED"]}</td>
                <td style="text-align: center;">{$list["COMPILATION_ERROR"]}</td>
                <td style="text-align: center;">{$list["PRESENTATION_ERROR"]}</td>

                <td style="text-align: center;"><a href="{:U('Contest/statistics?id=' . $_GET['id'] . '&problem=' . $list['index'])}" target="_blank">Enter</a></td>
            </tr>
            </foreach>
        </tbody>
    </table>
</div>

<include file="Contest:bottombar" />
<include file="Public:footer" />
